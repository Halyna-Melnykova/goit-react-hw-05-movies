{"version":3,"file":"static/js/740.d141af66.chunk.js","mappings":"4TAEMA,EAAWC,IAAAA,OAAa,CAC5BC,QAAS,gCACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAW,mCAAG,sGACFL,EAASM,IAAI,sBADX,uBACjBC,EADiB,EACjBA,KADiB,kBAElBA,GAFkB,2CAAH,qDAKXC,EAAY,mCAAG,WAAMC,GAAN,yFACHT,EAASM,IAAT,gBAAsBG,IADnB,uBAClBF,EADkB,EAClBA,KADkB,kBAEnBA,GAFmB,2CAAH,sDAKZG,EAAS,mCAAG,WAAMD,GAAN,yFACAT,EAASM,IAAT,gBAAsBG,EAAtB,aADA,uBACfF,EADe,EACfA,KADe,kBAEhBA,GAFgB,2CAAH,sDAKTI,EAAU,mCAAG,WAAMF,GAAN,yFACDT,EAASM,IAAT,gBAAsBG,EAAtB,aADC,uBAChBF,EADgB,EAChBA,KADgB,kBAEjBA,GAFiB,2CAAH,sDAgBVK,EAAe,mCAAG,WAAMC,GAAN,yFACNZ,IAAAA,IAAA,UAJR,gCAIQ,gCAHb,mCAGa,kBAC2BY,EAD3B,oBADM,uBACrBN,EADqB,EACrBA,KADqB,kBAItBA,GAJsB,2CAAH,qD,iICvC5B,EAAyB,qB,SCoCzB,EAjCa,SAAC,GAAkB,IAAhBO,EAAe,EAAfA,SACd,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAsBA,OACE,kBAAMH,SAhBa,SAAAI,GACnBA,EAAMC,iBAES,KAAXH,GAIJF,EAASE,GAKTC,EAAU,KARRG,MAAM,yBAKT,EAOC,WACE,kBAAOC,KAAK,SAASC,MAAON,EAAQO,SAtBnB,SAAAL,GACnB,IAAQI,EAAUJ,EAAMM,cAAhBF,MACRL,EAAUK,EAAMG,cACjB,EAmB+DC,KAAK,UACjE,mBAAQC,UAAWC,EAAUF,KAAK,SAAlC,sBAKL,E,UCYD,EA1Ce,WACb,OAA0BX,EAAAA,EAAAA,UAAS,IAAnC,eAAOc,EAAP,KAAcC,EAAd,KACA,GAA8Bf,EAAAA,EAAAA,WAAS,GAAvC,eAAOgB,EAAP,KAAgBC,EAAhB,KACA,GAA0BjB,EAAAA,EAAAA,UAAS,MAAnC,eAAOkB,EAAP,KAAcC,EAAd,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMrB,EAASoB,EAAa9B,IAAI,SAsBhC,OAlBAgC,EAAAA,EAAAA,YAAU,WAAM,wCAKd,2FACEN,GAAW,GADb,mBAGuBpB,EAAAA,EAAAA,IAAgBI,GAHvC,OAGUT,EAHV,OAIIuB,EAASvB,EAAKgC,SAJlB,gDAMIL,EAAS,EAAD,IANZ,yBAQIF,GAAW,GARf,6EALc,sBACVhB,GADU,mCAEZwB,EAcH,GAAE,CAACxB,KAGF,4BACE,SAAC,EAAD,CAAMF,SAtBO,SAAAE,GAAM,OAAIqB,EAAgB,CAAExB,MAAOG,GAA7B,IAuBlBe,IAAW,sCACXE,IAAS,+CACV,wBACGJ,EAAMY,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACT,yBAAc,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAArB,SAA4BC,KAAjCD,EADA,QAMlB,C","sources":["api/movies.js","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: '163c321dbb11d99503a707d857a1af3f',\n  },\n});\n\nexport const getTrending = async () => {\n  const { data } = await instance.get('trending/movie/day');\n  return data;\n};\n\nexport const getMovieInfo = async movieId => {\n  const { data } = await instance.get(`movie/${movieId}`);\n  return data;\n};\n\nexport const getActors = async movieId => {\n  const { data } = await instance.get(`movie/${movieId}/credits`);\n  return data;\n};\n\nexport const getReviews = async movieId => {\n  const { data } = await instance.get(`movie/${movieId}/reviews`);\n  return data;\n};\n\n// export const getMovieByQuery = async query => {\n//   const { data } = await instance.get('search/movie', {\n//     query,\n//   });\n//   return data;\n// };\n\n// search\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '163c321dbb11d99503a707d857a1af3f';\n\nexport const getMovieByQuery = async query => {\n  const { data } = await axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&query=${query}&language=en-US`\n  );\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Form_button__8NOIT\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Form.module.css';\n\nconst Form = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = event => {\n    const { value } = event.currentTarget;\n    setSearch(value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (search === '') {\n      alert(`enter movie for search`);\n      return;\n    }\n    onSubmit(search);\n    reset();\n  };\n\n  function reset() {\n    setSearch('');\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input name=\"search\" value={search} onChange={handleChange} type=\"text\" />\n      <button className={s.button} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n\nForm.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport Form from '../../components/Form/Form';\nimport { getMovieByQuery } from '../../api/movies';\n\nconst Movies = () => {\n  const [state, setState] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('query');\n\n  const onSearch = search => setSearchParams({ query: search });\n\n  useEffect(() => {\n    if (search) {\n      fetchMovies();\n    }\n\n    async function fetchMovies() {\n      setLoading(true);\n      try {\n        const data = await getMovieByQuery(search);\n        setState(data.results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n  }, [search]);\n\n  return (\n    <div>\n      <Form onSubmit={onSearch} />\n      {loading && <p>Loading...</p>}\n      {error && <p>Data loading error</p>}\n      <ul>\n        {state.map(({ id, title }) => (\n          <li key={id}>{<Link to={`/movies/${id}`}>{title}</Link>}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["instance","axios","baseURL","params","api_key","getTrending","get","data","getMovieInfo","movieId","getActors","getReviews","getMovieByQuery","query","onSubmit","useState","search","setSearch","event","preventDefault","alert","name","value","onChange","currentTarget","toLowerCase","type","className","s","state","setState","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","useEffect","results","fetchMovies","map","id","title","to"],"sourceRoot":""}